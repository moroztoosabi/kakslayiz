<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smooth Decelerating Slot Machine</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    font-family: 'DIN Condensed', sans-serif;
    background-color: #fff;
    color: #000;
  }

  #logo {
    width: 200px;
    height: 200px;
    margin-bottom: 20px;
    cursor: pointer;
    transition: transform 1s ease;
  }

  #shuffleBtn {
    padding: 15px 30px;
    border: 2px solid black;
    background: none;
    font-size: 18px;
    cursor: pointer;
    margin-bottom: 40px;
    transition: transform 0.1s;
  }

  #shuffleBtn:active {
    transform: scale(0.95);
  }

  #question-container {
    position: relative;
    height: 60px;
    width: 80%;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1px solid #ccc;
  }

  .slot {
    position: absolute;
    width: 100%;
    text-align: center;
    font-size: 24px;
    opacity: 0.3;
  }

  .middle {
    opacity: 1 !important;
  }
</style>
</head>
<body>

<img id="logo" src="yt pp 1.png" alt="Logo">
<button id="shuffleBtn">SORUM GELSİN</button>
<div id="question-container"></div>

<script>
const turkishQuestions = [
  "Hayatın anlamı nedir?",
  "Sizi en çok motive eden şey nedir?",
  "En büyük hayaliniz nedir?",
  "Her yere seyahat edebilseydiniz, nereye giderdiniz?",
  "Bir arkadaşta en çok neyi önemsersiniz?"
];

const englishQuestions = [
  "What is the meaning of life?",
  "What motivates you the most?",
  "What is your biggest dream?",
  "If you could travel anywhere, where would it be?",
  "What do you value most in a friend?"
];

const logo = document.getElementById("logo");
const shuffleBtn = document.getElementById("shuffleBtn");
const container = document.getElementById("question-container");

let currentRotation = 0;
let isEnglish = false;

logo.addEventListener("click", () => {
  isEnglish = !isEnglish;
  shuffleBtn.textContent = isEnglish ? "GET QUESTION" : "SORUM GELSİN";
});

// Shuffle button
shuffleBtn.addEventListener("click", () => {
  currentRotation += 720;
  logo.style.transition = "transform 5s cubic-bezier(0.25, 0.1, 0.25, 1)";
  logo.style.transform = `rotate(${currentRotation}deg)`;

  const questions = isEnglish ? englishQuestions : turkishQuestions;

  // Generate slots
  const slotCount = 20;
  container.innerHTML = '';
  const slots = [];
  for(let i=0; i<slotCount; i++){
    const div = document.createElement('div');
    div.className = 'slot';
    const idx = Math.floor(Math.random()*questions.length);
    div.textContent = questions[idx];
    div.style.top = `${i*60}px`;
    container.appendChild(div);
    slots.push(div);
  }

  let position = 0;
  let speed = 30; // initial speed
  const finalQuestion = questions[Math.floor(Math.random()*questions.length)];

  function animate() {
    position += speed;
    slots.forEach((s, i) => {
      let newTop = parseInt(s.style.top) - speed;
      // loop the slots to simulate endless spin
      if(newTop < -60) newTop = (slotCount-1)*60;
      s.style.top = `${newTop}px`;

      // opacity for middle
      const distance = Math.abs(newTop - 0);
      s.style.opacity = distance < 30 ? '1' : '0.3';
    });

    speed *= 0.95; // gradual deceleration

    if(speed > 0.5) {
      requestAnimationFrame(animate);
    } else {
      // smoothly land on final question
      container.innerHTML = '';
      const finalDiv = document.createElement('div');
      finalDiv.textContent = finalQuestion;
      finalDiv.className = 'slot middle';
      container.appendChild(finalDiv);
    }
  }

  requestAnimationFrame(animate);
});
</script>

</body>
</html>
